(function(o){typeof define=="function"&&define.amd?define(o):o()})(function(){"use strict";function o(t,e){(t instanceof Element?[t]:t)?.forEach(s=>{window.Alpine.bind(s,e)})}function x(t,e,i=500){let s;clearTimeout(s);const a=!e||isNaN(parseInt(e.toString()))?i:parseInt(e.toString());return s=setTimeout(t,a),s}function g(){return{opened:!1,lastOpened:null,init(t=!1){if(Number.isInteger(t))return x(()=>this.open(),t);this.opened=!!t},open(t=!0){this.opened=!0,t&&(this.lastOpened=this.opened)},close(t=!0){this.opened=!1,t&&(this.lastOpened=this.opened)},toggle(t=!0){this.isOpened()?this.close(t):this.open(t)},isOpened(){return this.opened===!0},isClosed(){return this.opened===!1}}}function $({mode:t,position:e,align:i}){const s=g();let a=null;const n={...s,popover:null,trigger:null,isTouch:window.matchMedia("(hover: none)").matches,init(){s.init.call(this),n.popover=this.popover=this.$el.lastElementChild?.matches("[popover]")&&this.$el.lastElementChild,n.trigger=this.trigger=this.$el.firstElementChild!==this.popover?this.$el.firstElementChild:this.$el,this.popover&&(this.$el.setAttribute("aria-haspopup","true"),this.$el.setAttribute("aria-expanded","false"),this.popover.addEventListener("beforetoggle",r=>{queueMicrotask(()=>{r.newState==="open"?this.onOpen():this.onClose()})}),this.isTouch||t==="dropdown"?o(this.trigger,{"@click"(){this.toggle()},"@click.outside"(r){(this.popover.hasAttribute("data-keep-open")||r.target.hasAttribute("data-keep-open")||r.target?.parentElement.hasAttribute("data-keep-open"))&&this.popover.contains(r.target)||this.close()},"@keyup.escape.window"(){this.close()}}):t!=="manual"&&o(this.trigger,{"@mouseenter"(){this.open()},"@mouseleave"(){this.close()},"@keyup.escape.window"(){this.close()}}))},open(){this.popover.showPopover()},close(){this.popover.hidePopover()},onOpen(){s.open.call(this),this.$el.setAttribute("aria-expanded","true"),window.addEventListener("scroll",this.boundSetPosition,!0),this.resizeObserver=new ResizeObserver(this.boundSetPosition),this.resizeObserver.observe(this.trigger),this.resizeObserver.observe(this.popover),this.mutationObserver=new MutationObserver(this.boundSetPosition),this.mutationObserver.observe(this.trigger,{childList:!0,subtree:!0}),this.mutationObserver.observe(this.popover,{childList:!0,subtree:!0}),this.setPosition()},onClose(){s.close.call(this),this.$el.setAttribute("aria-expanded","false"),window.removeEventListener("scroll",this.boundSetPosition,!0),this.resizeObserver?.disconnect(),this.resizeObserver=null,this.mutationObserver?.disconnect(),this.mutationObserver=null},boundSetPosition(){a||(a=requestAnimationFrame(()=>{this.setPosition(),a=null}))},setPosition(){const r=window.scrollY,u=window.scrollX,h=this.trigger.getBoundingClientRect(),T=h.height,C=h.width,v=this.popover.offsetHeight,k=this.popover.offsetWidth,w=4,nt=(l,c)=>c==="start"||c==="left"?0:c==="end"||c==="right"?l==="left"||l==="right"?T-v:C-k:l==="left"||l==="right"?(T-v)/2:(C-k)/2,O=(l,c)=>{const p=nt(l,c);let d=0,m=0;switch(l){case"right":m=h.right+w+u,d=h.top+p+r;break;case"left":m=h.left-k-w+u,d=h.top+p+r;break;case"bottom":d=h.bottom+w+r,m=h.left+p+u;break;case"top":d=h.top-v-w+r,m=h.left+p+u;break}return{top:d,left:m}},_=({top:l,left:c})=>l>=r&&c>=u&&l+v<=r+window.innerHeight&&c+k<=u+window.innerWidth,rt=["top","bottom","left","right"],at=["start","left","end","right","center"];let f=e||"bottom",b=i||"end",y=O(f,b);if(!_(y)){let l=!1;for(const c of[f,...rt.filter(p=>p!==f)]){for(const p of[b,...at.filter(d=>d!==b)]){const d=O(c,p);if(_(d)){f=c,b=p,y=d,l=!0;break}}if(l)break}}this.popover.style.position="absolute",this.popover.style.inset="auto",this.popover.style.top=`${y.top}px`,this.popover.style.left=`${y.left}px`,this.popover.dataset.position=f,this.popover.dataset.align=b}};return n.boundSetPosition=n.boundSetPosition.bind(n),n}function A(){return{init(){this.$el.style.position="sticky",this.$el.style.top=`${this.$el.offsetTop}px`,this.$el.style.maxHeight=`calc(100dvh - ${this.$el.offsetTop}px)`}}}function P(t){return{timeoutId:null,init(){o(this.$el.querySelectorAll("[data-tallkit-alert-close]"),{"@click"(){this.dismiss()}}),t&&(this.timeoutId=x(()=>this.dismiss(),t,7e3))},dismiss(){clearTimeout(this.timeoutId);const e=this.$el.closest("[data-tallkit-alert]");e&&(e.classList.remove("opacity-100"),e.classList.add("opacity-0"),e.addEventListener("transitionend",()=>e?.remove(),{once:!0}))}}}function q(){return{...A()}}function D(){return{toasts:[],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],init(){o(this.$el,{"@toast.document"(t){this.addToast(t.detail)}})},addToast(t){const e=window.Alpine.reactive({id:Date.now()+Math.random(),...t,duration:t.duration??5e3,position:t.position??"bottom-right",visible:!1});e.position==="top"&&(e.position="top-right"),e.position==="bottom"&&(e.position="bottom-right"),this.toasts.push(e),this.$nextTick(()=>e.visible=!0),e.duration&&setTimeout(()=>this.removeToast(e.id),e.duration)},removeToast(t){const e=this.toasts.find(i=>i.id===t);e&&(e.visible=!1,setTimeout(()=>{this.toasts=this.toasts.filter(i=>i.id!==t)},300))},getToastsByPosition(t){return this.toasts.filter(e=>e.position===t)}}}function M({mode:t,position:e,align:i}){return $({mode:t,position:e,align:i})}const S={opened:!0,types:[],holderName:null,number:null,type:null,expirationDate:null,cvv:null};function I(t={}){const e=g();return{...e,options:S,init(){e.init.call(this),this.card=this.$data,this.options={...S,...t},this.opened=this.options.opened},get typeOptions(){return this.options.types[this.options.type]?this.options.types[this.options.type]:this.options.types.unknown},update(i={}){this.options={...this.options,...i}},flip(i=!1){i?this.close():this.open()}}}function R({mode:t,position:e,align:i}){return $({mode:t,position:e,align:i})}function j(){return{...A()}}function z(t,e,i){const s=g();return{...s,init(){s.init.call(this),e&&A().init.call(this),i&&(this.$el.removeAttribute("data-mobile-cloak"),this.screenLg=window.innerWidth>=1024,o(this.$el,{"x-bind:data-stashed"(){return!this.screenLg},"x-resize.document"(){this.screenLg=window.innerWidth>=1024},[`@sidebar-${t??""}-close.window`](){this.close()},[`@sidebar-${t??""}-toggle.window`](){this.toggle()}}))},open(){this.$el.setAttribute("data-show-stashed-sidebar",""),s.open.call(this)},close(){console.log("s"),this.$el.removeAttribute("data-show-stashed-sidebar"),s.close.call(this)}}}function F(){return{processedRows:new Set,rows:[],selected:[],selectedIds:[],selectAllChecked:!1,init(){this.update(),new MutationObserver(()=>this.update()).observe(this.$el.querySelector("tbody"),{childList:!0,subtree:!0})},update(){this.rows=Array.from(this.$el.querySelectorAll('tbody>tr[role="row"]')).map(t=>{const e=t.querySelector("[role=row-selection]"),i=t.querySelectorAll("[role=row-expanded]"),s={el:t,id:t.dataset.id,selection:e,expanded:i};return this.processedRows.has(s.id)||(this.processedRows.add(s.id),o(e,{"@click"(){this._updateRowState(s),this._syncSelect()}}),o(i,{"@click"(){s.el.dataset.expanded=s.el.dataset.expanded==="open"?"close":"open"}})),s}),this.rows.forEach(t=>{t.selection&&(t.selection.checked=this.selectedIds.includes(t.id)),this.selectAllChecked&&(t.selection.checked=!0),this._updateRowState(t)}),this._syncSelect()},toggleAll(){this.rows.forEach(t=>{t.selection&&(t.selection.checked=this.selectAllChecked,this._updateRowState(t))}),this._syncSelect()},_updateRowState(t){t.selection&&(t.el.dataset.state=t.selection.checked?"checked":"unchecked"),t.expanded&&!t.el.dataset.expanded&&(t.el.dataset.expanded="close")},_syncSelect(){this.selected=this.rows.filter(t=>t.selection?.checked),this.selectedIds=this.selected.map(t=>t.id),this.selectAllChecked=this.rows.length&&this.rows.every(t=>t.selection?.checked)}}}function V(){return{get input(){return this.$el.closest("[data-tallkit-input]").querySelector("input")},init(){this.input&&o(this.$el,{"@click"(){this.input.value="",this.input.dispatchEvent(new Event("input",{bubbles:!1})),this.input.dispatchEvent(new Event("change",{bubbles:!1})),this.input.focus()}})}}}function W(){return{copied:!1,timeout:null,get input(){return this.$el.closest("[data-tallkit-input]").querySelector("input")},init(){this.input&&o(this.$el,{"@click"(){clearTimeout(this.timeout),this.copied=!0,this.popover&&this.popover.showPopover(),navigator.clipboard&&navigator.clipboard.writeText(this.input.value),this.timeout=setTimeout(()=>{this.popover&&this.popover.hidePopover(),this.copied=!1},1e3)}})}}}function H(){return{viewed:!1,get input(){return this.$el.closest("[data-tallkit-input]").querySelector("input")},init(){if(!this.input)return;o(this.$el,{"@click"(){this.viewed=!this.viewed,this.input.setAttribute("type",this.viewed?"text":"password")}}),new MutationObserver(()=>{let e=this.viewed?"text":"password";this.input.getAttribute("type")!==e&&this.input.setAttribute("type",e)}).observe(this.input,{attributes:!0,attributeFilter:["type"]})}}}function N(){return{get control(){let t=this.$el.parentElement?.querySelector("[data-tallkit-control]");const e='input, select, textarea, [contenteditable=""], [contenteditable="true"], [role="textbox"]';return t&&!t.matches(e)&&(t=t.querySelector(e)),t},init(){this.$el.tagName.toLowerCase()==="label"&&this.$el.hasAttribute("for")&&document.getElementById(this.$el.getAttribute("for"))||this.control&&o(this.$el,{"@click"(){const t=this.control,e=t.tagName.toLowerCase(),i=t.getAttribute("type")?.toLowerCase(),s=t.hasAttribute("contenteditable")||t.getAttribute("role")==="textbox",a=t.hasAttribute("readonly")||t.getAttribute("aria-readonly")==="true",n=t.disabled;if(i==="checkbox"){!n&&!a&&(t.checked=!t.checked,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})));return}if(i==="radio"){!n&&!a&&!t.checked&&(t.checked=!0,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})));return}(s||["input","select","textarea"].includes(e))&&typeof t.focus=="function"&&!n&&t.focus()}})}}}function B(){return{init(){o(this.$el.querySelector("[data-tallkit-badge-close]"),{"@click"(){const t=this.$el.closest("[data-tallkit-badge]");t&&(t.classList.remove("opacity-100"),t.classList.add("opacity-0"),t.addEventListener("transitionend",()=>{t?.remove(),this.$dispatch("close")},{once:!0}))}})}}}function G(){const t=g();return{...t,init(){t.init.call(this,this.$root.hasAttribute("data-open")),new MutationObserver(()=>{this.opened=this.$root.hasAttribute("data-open")}).observe(this.$root,{attributeFilter:["data-open"]}),o(this.$root.querySelector("button"),{"@click"(){this.toggle()}})},open(){this.$root.setAttribute("data-open",""),t.open.call(this)},close(){this.$root.removeAttribute("data-open"),t.close.call(this)}}}function K(){return{init(){o(this.$el.querySelectorAll("[data-tallkit-menu-item]"),{"@mouseenter"(){this.$el.disabled||this.$el.setAttribute("data-active","")},"@mouseleave"(){this.$el.disabled||this.$el.removeAttribute("data-active")}})}}}function X(){return{get checked(){return this.$el.hasAttribute("data-checked")},set checked(t){t?this.$el.setAttribute("data-checked",""):this.$el.removeAttribute("data-checked")},init(){this.$el.setAttribute("aria-checked",this.checked?"true":"false"),new MutationObserver(()=>{this.$el.setAttribute("aria-checked",this.checked?"true":"false")}).observe(this.$el,{attributeFilter:["data-checked"]}),o(this.$el,{"@click"(){this.$el.disabled||(this.checked=!this.checked)}})}}}function Y(){return{get checked(){return this.$el.hasAttribute("data-checked")},set checked(t){t?this.$el.setAttribute("data-checked",""):this.$el.removeAttribute("data-checked")},init(){this.$el.setAttribute("aria-checked",this.checked?"true":"false"),new MutationObserver(()=>{this.$el.setAttribute("aria-checked",this.checked?"true":"false")}).observe(this.$el,{attributeFilter:["data-checked"]}),o(this.$el,{"@click"(){this.$el.disabled||this.checked||(this.$el.closest("[data-tallkit-menu-radio-group]").querySelectorAll("[data-tallkit-menu-radio]").forEach(t=>{t!==this.$el&&t.removeAttribute("data-checked")}),this.checked=!0)}})}}}function U(){const t=$({mode:"manual",position:"right",align:"start"});return{...t,_i:null,inside:!1,init(){t.init.call(this),o(t.popover,{"@mouseenter"(){this.inside=!0,t.trigger.setAttribute("data-active","")},"@mouseleave"(){this.inside=!1,this.timerToClose()}}),o(t.trigger,{"@click"(){this.open()},"@mouseenter"(){clearTimeout(this._i),this.open()},"@mouseleave"(){this.timerToClose()}})},timerToClose(){this._i=setTimeout(()=>{this.inside||(this.close(),t.trigger.removeAttribute("data-active"))},10)}}}function J(){return{get checkboxes(){return this.$el.querySelectorAll("[data-tallkit-checkbox]")},init(){(e=>this.checkboxes.forEach(i=>i.checked=(Array.isArray(e)?e:[e]).includes(i.value)))(this.value),o(this.checkboxes,{"@change"(){this.$root.value=Array.from(this.checkboxes).filter(e=>e.checked).map(e=>e.value),this.$root.dispatchEvent(new Event("input",{bubbles:!0})),this.$root.dispatchEvent(new Event("change",{bubbles:!0}))}})}}}function Q(){return{get radios(){return this.$el.querySelectorAll("[data-tallkit-radio]")},init(){const t=e=>this.radios.forEach(i=>i.checked=(Array.isArray(e)?e:[e]).includes(i.value));t(this.value),this.$watch("value",t)}}}const Z=Object.freeze(Object.defineProperty({__proto__:null,alertComponent:P,aside:q,badge:B,checkboxGroup:J,creditCard:I,disclosure:G,dropdown:M,header:j,inputClearable:V,inputCopyable:W,inputViewable:H,label:N,menu:K,menuCheckbox:X,menuRadio:Y,radioGroup:Q,sidebar:z,submenu:U,table:F,toast:D,tooltip:R},Symbol.toStringTag,{value:"Module"}));function E(t){return new Promise((e,i)=>{const s=document.createElement("script");s.src=t,s.defer=!0,s.onload=e,s.onerror=i,document.head.appendChild(s)})}async function L(){window.Alpine||(await E("https://unpkg.com/@alpinejs/resize@3.x.x/dist/cdn.min.js"),await E("https://unpkg.com/@alpinejs/mask@3.x.x/dist/cdn.min.js"),await E("https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"))}function tt(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L()}function et(){window.Alpine&&(Object.entries(Z).forEach(([t,e])=>{window.Alpine.data(t,e)}),window.Alpine.magic("tallkit",()=>window.tallkit),window.Alpine.magic("tk",()=>window.tallkit))}const it={get mode(){return window.localStorage.getItem("tallkit.appearance")||"system"},set mode(t){this.apply(t)},init(){this.apply(this.mode),document.addEventListener("livewire:navigated",()=>this.apply(this.mode)),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.mode==="system"&&this.apply("system")})},isDark(){return document.documentElement.classList.contains("dark")},isLight(){return document.documentElement.classList.contains("light")},applyDark(t=!0){document.documentElement.classList.add("dark"),t&&window.localStorage.setItem("tallkit.appearance","dark")},applyLight(t=!0){document.documentElement.classList.remove("dark"),t&&window.localStorage.setItem("tallkit.appearance","light")},apply(t){if(t==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)");window.localStorage.removeItem("tallkit.appearance"),e.matches?this.applyDark(!1):this.applyLight(!1)}else t==="dark"?this.applyDark():t==="light"&&this.applyLight()},toggle(t,e={}){if(!(typeof document<"u"&&document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches)||!t)return this.isDark()?this.applyLight():this.applyDark();const s=document.startViewTransition(()=>this.isDark()?this.applyLight():this.applyDark()),a=t.clientX||0,n=t.clientY||0,r=Math.hypot(Math.max(a,innerWidth-a),Math.max(n,innerHeight-n));s.ready.then(()=>{const u=[`circle(0px at ${a}px ${n}px)`,`circle(${r}px at ${a}px ${n}px)`];document.documentElement.animate({clipPath:this.isDark()?[...u].reverse():u},{duration:300,easing:"ease-in",...e||{},pseudoElement:this.isDark()?"::view-transition-old(root)":"::view-transition-new(root)"})})}};function st(...t){let e;if(typeof t[0]=="object"&&t[0]!==null&&!Array.isArray(t[0]))e=t[0];else{const[i,s,a,n,r]=t;e={text:i,heading:s,type:a,duration:n,position:r}}document.dispatchEvent(new CustomEvent("toast",{detail:e}))}const ot={appearance:it,toast:st};window.TALLKit=window.TK=window.tk=window.tallkit=ot,document.dispatchEvent(new CustomEvent("tallkit:init")),tt(),document.addEventListener("alpine:init",et)});
