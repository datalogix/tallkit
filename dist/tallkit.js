(function(u){typeof define=="function"&&define.amd?define(u):u()})(function(){"use strict";function u(t,e,i=500){let l;clearTimeout(l);const c=!e||isNaN(parseInt(e.toString()))?i:parseInt(e.toString());return l=setTimeout(t,c),l}function $(t){return{init(){if(t)return u(()=>this.dismiss(),t,7e3)},dismiss(){const e=this.$el.closest("[data-tallkit-alert]");e.classList.remove("opacity-100"),e.classList.add("opacity-0"),e.addEventListener("transitionend",()=>e.remove(),{once:!0})}}}function b(){return{opened:!1,lastOpened:null,init(t=!1){if(Number.isInteger(t))return u(()=>this.open(),t);this.opened=!!t},open(t=!0){this.opened=!0,t&&(this.lastOpened=this.opened)},close(t=!0){this.opened=!1,t&&(this.lastOpened=this.opened)},toggle(t=!0){this.isOpened()?this.close(t):this.open(t)},isOpened(){return this.opened===!0},isClosed(){return this.opened===!1}}}function m(){const t=b();return{...t,popover:null,trigger:null,init(){var e;t.init.call(this),this.popover=((e=this.$el.lastElementChild)==null?void 0:e.matches("[popover]"))&&this.$el.lastElementChild,this.trigger=this.$el.firstElementChild!==this.popover?this.$el.firstElementChild:this.$el},open(){this.popover.showPopover(),t.open.call(this)},close(){this.popover.hidePopover(),t.close.call(this)}}}function k(){const t=m();return{...t,text:"",heading:"",open({text:e,heading:i}){this.text=e??"",this.heading=i??"",t.open.call(this)}}}function P(){const t=m();return{...t,init(){t.init.call(this),window.Alpine.bind(this.trigger,{"@click"(){this.toggle()},"@click.outside"(){this.close()},"@keyup.escape.window"(){this.close()}})}}}const w={opened:!0,types:[],holderName:null,number:null,type:null,expirationDate:null,cvv:null};function x(t={}){const e=b();return{...e,options:w,init(){e.init.call(this),this.card=this.$data,this.options={...w,...t},this.opened=this.options.opened},get typeOptions(){return this.options.types[this.options.type]?this.options.types[this.options.type]:this.options.types.unknown},update(i={}){this.options={...this.options,...i}},flip(i=!1){i?this.close():this.open()}}}function E({position:t,align:e}){const i=m();let l=null;const c={...i,init(){i.init.call(this),window.Alpine.bind(this.trigger,{"@mouseenter"(){this.open()},"@mouseleave"(){this.close()},"@keyup.escape.window"(){this.close()}})},open(){i.open.call(this),window.addEventListener("scroll",this.boundSetPosition,!0),this.resizeObserver=new ResizeObserver(this.boundSetPosition),this.resizeObserver.observe(this.trigger),this.resizeObserver.observe(this.popover),this.mutationObserver=new MutationObserver(this.boundSetPosition),this.mutationObserver.observe(this.trigger,{childList:!0,subtree:!0}),this.mutationObserver.observe(this.popover,{childList:!0,subtree:!0}),this.setPosition()},close(){var o,n;i.close.call(this),window.removeEventListener("scroll",this.boundSetPosition,!0),(o=this.resizeObserver)==null||o.disconnect(),this.resizeObserver=null,(n=this.mutationObserver)==null||n.disconnect(),this.mutationObserver=null},boundSetPosition(){l||(l=requestAnimationFrame(()=>{this.setPosition(),l=null}))},setPosition(){const o=window.scrollY,n=window.scrollX,r=this.trigger.getBoundingClientRect(),y=this.trigger.offsetHeight,O=this.trigger.offsetWidth,g=this.popover.offsetHeight,f=this.popover.offsetWidth;let a=0;e!=="start"&&(t==="left"||t==="right"?a=e==="end"?y-g:y/2-g/2:a=e==="end"?O-f:O/2-f/2);const v=4;let h=0,p=0,s=t;const d=A=>{switch(A){case"right":p=r.right+v+n,h=r.top+a+o;break;case"left":p=r.left-f-v+n,h=r.top+a+o;break;case"bottom":h=r.bottom+v+o,p=r.left+a+n;break;case"top":h=r.top-g-v+o,p=r.left+a+n;break}};d(s);const _=h+g,S=p+f;s==="top"&&h<o?(s="bottom",d(s)):s==="bottom"&&_>o+window.innerHeight&&(s="top",d(s)),s==="left"&&p<n?(s="right",d(s)):s==="right"&&S>n+window.innerWidth&&(s="left",d(s)),this.popover.style.position="absolute",this.popover.style.inset="auto",this.popover.style.top=`${h}px`,this.popover.style.left=`${p}px`}};return c.boundSetPosition=c.boundSetPosition.bind(c),c}function C(){return{init(){this.$el.style.position="sticky",this.$el.style.top=`${this.$el.offsetTop}px`,this.$el.style.maxHeight=`calc(100vh - ${this.$el.offsetTop}px)`}}}const L=Object.freeze(Object.defineProperty({__proto__:null,alertComponent:$,creditCard:x,dropdown:P,header:C,toast:k,tooltip:E},Symbol.toStringTag,{value:"Module"}));document.addEventListener("alpine:init",()=>{const t={toast(){const e={text:"",heading:""};arguments.length>1?(e.heading=arguments[0],e.text=arguments[1]):typeof arguments[0]=="string"?e.text=arguments[0]:(e.text=arguments[0].text,e.heading=arguments[0].heading),document.dispatchEvent(new CustomEvent("toast",{detail:e}))}};Object.entries(L).forEach(([e,i])=>{Alpine.data(e,i)}),window.TALLKit=window.TK=t,Alpine.magic("tallkit",()=>t),Alpine.magic("tk",()=>t)})});
