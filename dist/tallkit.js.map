{"version":3,"file":"tallkit.js","sources":["../resources/ts/utils/timeout.ts","../resources/ts/components/alert-component.ts","../resources/ts/utils/toggleable.ts","../resources/ts/utils/popover.ts","../resources/ts/components/toast.ts","../resources/ts/components/dropdown.ts","../resources/ts/components/credit-card.ts","../resources/ts/components/tooltip.ts","../resources/ts/components/header.ts","../resources/ts/tallkit.ts"],"sourcesContent":["export type Milliseconds = string | boolean | number\n\nexport function timeout(callback: TimerHandler, milliseconds?: Milliseconds, defaultMilliseconds: number = 500) {\n  let timeoutId: number | undefined = undefined\n  clearTimeout(timeoutId)\n\n  const ms = !milliseconds || isNaN(parseInt(milliseconds.toString()))\n    ? defaultMilliseconds\n    : parseInt(milliseconds.toString())\n\n  timeoutId = setTimeout(callback, ms)\n  return timeoutId\n}\n","import { timeout as _timeout, type Milliseconds } from \"../utils/timeout\"\n\nexport function alertComponent(timeout?: Milliseconds) {\n  return {\n    init() {\n      if (timeout) {\n        return _timeout(() => this.dismiss(), timeout, 7000)\n      }\n    },\n\n    dismiss() {\n      this.$root.classList.remove('opacity-100')\n      this.$root.classList.add('opacity-0')\n\n      this.$root.addEventListener(\n        'transitionend',\n        () => this.$root.remove(),\n        { once: true }\n      )\n    }\n  }\n}\n","import { timeout } from \"./timeout\"\n\nexport function toggleable() {\n  return {\n    opened: false,\n    lastOpened: null,\n\n    init (opened = false) {\n      if (Number.isInteger(opened)) {\n        return timeout(() => this.open(), opened)\n      }\n\n      this.opened = Boolean(opened)\n    },\n\n    open (storage = true) {\n      this.opened = true\n      if (storage) this.lastOpened = this.opened\n      //dispatch('open', this)\n    },\n\n    close (storage = true) {\n      this.opened = false\n      if (storage) this.lastOpened = this.opened\n      //dispatch('close', this)\n    },\n\n    toggle (storage = true) {\n      if (this.isOpened()) {\n        this.close(storage)\n      } else {\n        this.open(storage)\n      }\n    },\n\n    isOpened () {\n      return this.opened === true\n    },\n\n    isClosed () {\n      return this.opened === false\n    }\n  }\n}\n","import { toggleable } from \"./toggleable\"\n\nexport function popover () {\n  const _toggleable = toggleable()\n\n  return {\n    ..._toggleable,\n\n    popover: null,\n\n    init() {\n      _toggleable.init.call(this)\n      this.popover = this.$el.querySelector('[popover]')\n    },\n\n    open() {\n      this.popover.showPopover()\n      _toggleable.open.call(this)\n    },\n\n    close() {\n      this.popover.hidePopover()\n      _toggleable.close.call(this)\n    },\n  }\n}\n","import { popover } from \"../utils\"\n\nexport function toast () {\n  const _popover = popover()\n\n  return {\n    ..._popover,\n\n    text: '',\n    heading: '',\n\n    open({ text, heading }) {\n      this.text = text ?? ''\n      this.heading = heading ?? ''\n      _popover.open.call(this)\n    },\n  }\n}\n","import { toggleable } from \"../utils\"\n\nexport function dropdown() {\n  const _toggleable = toggleable()\n\n  return {\n    ..._toggleable,\n  }\n}\n","import { toggleable } from \"../utils\"\n\nconst CREDIT_CARD_DEFAULT = {\n  opened: true,\n  types: [],\n  holderName: null,\n  number: null,\n  type: null,\n  expirationDate: null,\n  cvv: null\n}\n\nexport function creditCard(options = {}) {\n  const _toggleable = toggleable()\n\n  return {\n    ..._toggleable,\n\n    options: CREDIT_CARD_DEFAULT,\n\n    init() {\n      _toggleable.init.call(this)\n      this.card = this.$data\n      this.options = { ...CREDIT_CARD_DEFAULT, ...options }\n      this.opened = this.options.opened\n    },\n\n    get typeOptions() {\n      return this.options.types[this.options.type]\n        ? this.options.types[this.options.type]\n        : this.options.types.unknown\n    },\n\n    update(options = {}) {\n      this.options = { ...this.options, ...options }\n    },\n\n    flip(isBack = false) {\n      if (isBack) {\n        this.close()\n      } else {\n        this.open()\n      }\n    }\n  }\n}\n","import { popover } from \"../utils\"\n\nexport function tooltip ({ position, align }) {\n  const _popover = popover()\n\n  return {\n    ..._popover,\n\n    trigger(toggleable = false) {\n      if (toggleable) {\n        return {\n          ['@click']() {\n            this.toggle()\n          },\n\n          ['@click.outside']() {\n            this.close()\n          }\n        }\n      }\n\n      return {\n        ['@mouseenter']() {\n          this.open()\n        },\n\n        ['@mouseleave']() {\n          this.close()\n        }\n      }\n    },\n\n    open() {\n      _popover.open.call(this)\n      this.setPosition()\n    },\n\n    setPosition() {\n      this.popover.style.position = 'absolute'\n\n      const triggerRect = this.$el.getBoundingClientRect()\n      const parentRect = this.$el.offsetParent.getBoundingClientRect()\n\n      const triggerHeight = this.$el.offsetHeight\n      const triggerWidth = this.$el.offsetWidth\n      const tooltipHeight = this.popover.offsetHeight\n      const tooltipWidth = this.popover.offsetWidth\n\n      const offsetLeft = triggerRect.left - parentRect.left\n      const offsetRight = triggerRect.right - parentRect.left\n      const offsetTop = triggerRect.top - parentRect.top\n      const offsetBottom = triggerRect.bottom - parentRect.top\n\n      let center = 0\n\n      if (align !== 'start') {\n        if (position === 'left' || position === 'right') {\n          center = align === 'end' ? triggerHeight - tooltipHeight : (triggerHeight / 2) - (tooltipHeight / 2)\n        } else {\n          center = align === 'end' ? triggerWidth - tooltipWidth : (triggerWidth / 2) - (tooltipWidth / 2)\n        }\n      }\n\n      let top = 0\n      let left = 0\n\n      if (position === 'right') {\n        left = offsetRight + 4\n        top = offsetTop + center\n      } else if (position === 'left') {\n        top = offsetTop + center\n        left = offsetLeft - tooltipWidth - 4\n      } else if (position === 'bottom') {\n        top = offsetBottom + 4\n        left = offsetLeft + center\n      } else {\n        top = offsetTop - tooltipHeight - 4\n        left = offsetLeft + center\n      }\n\n      this.popover.style.inset = `${top}px auto auto ${left}px`;\n    },\n  }\n}\n","export function header() {\n  return {\n    init() {\n      this.$el.style.position = 'sticky'\n      this.$el.style.top = `${this.$el.offsetTop}px`,\n      this.$el.style.maxHeight = `calc(100vh - ${this.$el.offsetTop}px)`\n    }\n  }\n}\n","import * as components from './components'\n\ndocument.addEventListener('alpine:init', () => {\n  const tallkit = {\n    toast() {\n      const detail = {\n        text: '',\n        heading: '',\n      }\n\n      if (arguments.length > 1) {\n        detail.heading = arguments[0]\n        detail.text = arguments[1]\n      } else if (typeof arguments[0] === 'string') {\n        detail.text = arguments[0]\n      } else {\n        detail.text = arguments[0].text\n        detail.heading = arguments[0].heading\n      }\n\n      document.dispatchEvent(new CustomEvent(\"toast\", { detail }))\n    }\n  }\n\n  Object.entries(components).forEach(([name, component]) => {\n    Alpine.data(name, component)\n  })\n\n  window.TALLKit = window.TK =tallkit\n  Alpine.magic('tallkit', () => tallkit)\n  Alpine.magic('tk', () => tallkit)\n})\n"],"names":["timeout","callback","milliseconds","defaultMilliseconds","timeoutId","ms","alertComponent","_timeout","toggleable","opened","storage","popover","_toggleable","toast","_popover","text","heading","dropdown","CREDIT_CARD_DEFAULT","creditCard","options","isBack","tooltip","position","align","triggerRect","parentRect","triggerHeight","triggerWidth","tooltipHeight","tooltipWidth","offsetLeft","offsetRight","offsetTop","offsetBottom","center","top","left","header","tallkit","detail","components","name","component"],"mappings":"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"}