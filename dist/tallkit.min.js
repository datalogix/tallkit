!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t,e){const i=t instanceof Element?[t]:t;i?.forEach((t,i)=>{window.Alpine.bind(t,"function"==typeof e?e(t,i):e)})}function e(t,e,i=500){let s;clearTimeout(s);const o=!e||isNaN(parseInt(e.toString()))?i:parseInt(e.toString());return s=setTimeout(t,o),s}const i=new Map;async function s(t){if(Array.isArray(t))return t.reduce((t,e)=>t.then(async t=>[...t,await s(e)]),Promise.resolve([]));if(i.has(t))return i.get(t);const e=new Promise((e,s)=>{if(document.querySelector(`script[src="${t}"]`))return void e(new Event("load"));const o=document.createElement("script");o.src=t,o.defer=!0,o.onload=e,o.onerror=e=>{i.delete(t),s(e)},document.head.appendChild(o)});return i.set(t,e),e}function o(t,e,i=.35){if(!e)return!0;if(t.includes(e))return!0;if(function(t,e){if(!e)return!0;let i=0,s=0;for(;i<t.length&&s<e.length;)t[i]===e[s]&&s++,i++;return s===e.length}(t,e))return!0;return function(t,e){const i=t.length,s=e.length;if(!i)return s;if(!s)return i;const o=new Array(s+1).fill(0),n=new Array(s+1).fill(0);for(let t=0;t<=s;t++)o[t]=t;for(let r=0;r<i;r++){n[0]=r+1;for(let i=0;i<s;i++){const s=t[r]===e[i]?0:1;n[i+1]=Math.min(n[i]+1,o[i+1]+1,o[i]+s)}for(let t=0;t<=s;t++)o[t]=n[t]}return n[s]}(t,e)<=Math.max(1,Math.floor(e.length*i))}function n(t,e){if(!e||!t)return t;const i={replaceAccents:!1,removeSpaces:!1,lowercase:!1,uppercase:!1,mode:void 0,...e};switch(i?.replaceAccents&&(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),i?.removeSpaces&&(t=t.replace(/\s+/g," ").trim()),i.mode){case"alpha":t=t.replace(/[^a-z]/gi,"");break;case"alphanumeric":t=t.replace(/[^a-z0-9]/gi,"");break;case"numeric":t=t.replace(/[^0-9]/g,"")}return i.uppercase&&!i.lowercase?t=t.toUpperCase():i.lowercase&&!i.uppercase&&(t=t.toLowerCase()),t}const r=new Map;const l=Object.freeze(Object.defineProperty({__proto__:null,addressForm:function(){return{get loading(){return this.$root.querySelector("[data-tallkit-loading]")},get zipcode(){return this.$root.querySelector("[data-tallkit-address-form-zipcode]")},get address(){return this.$root.querySelector("[data-tallkit-address-form-address]")},get number(){return this.$root.querySelector("[data-tallkit-address-form-number]")},get complement(){return this.$root.querySelector("[data-tallkit-address-form-complement]")},get neighborhood(){return this.$root.querySelector("[data-tallkit-address-form-neighborhood]")},get city(){return this.$root.querySelector("[data-tallkit-address-form-city]")},get state(){return this.$root.querySelector("[data-tallkit-address-form-state]")},abortController:null,init(){const e=this;t(this.zipcode,{"@keyup"(){this.search.bind(e)(this.$el.value)}})},async search(t){if(!((t=t.replace(/\D/g,"")).length<8)){this.abortController&&this.abortController.abort(),this.abortController=new AbortController,this.loading.style.display="block",this.address.disabled=!0,this.neighborhood.disabled=!0,this.city.disabled=!0,this.state.disabled=!0;try{const e=await fetch(`https://viacep.com.br/ws/${t}/json/`,{signal:this.abortController.signal}),i=await e.json();if(i.erro)throw new Error("Not found");this.address.value=i.logradouro,this.address.dispatchEvent(new Event("input",{bubbles:!0})),this.address.dispatchEvent(new Event("change",{bubbles:!0})),this.neighborhood.value=i.bairro,this.neighborhood.dispatchEvent(new Event("input",{bubbles:!0})),this.neighborhood.dispatchEvent(new Event("change",{bubbles:!0})),this.city.value=i.localidade,this.city.dispatchEvent(new Event("input",{bubbles:!0})),this.city.dispatchEvent(new Event("change",{bubbles:!0})),this.state.value="input"===this.state.tagName.toLowerCase()||this.state.querySelector(`option[value="${i.estado}"]`)?i.estado:i.uf,this.state.dispatchEvent(new Event("input",{bubbles:!0})),this.state.dispatchEvent(new Event("change",{bubbles:!0})),this.number.focus()}catch(t){if("AbortError"===t.name)return;this.zipcode.focus()}finally{this.loading.style.display="none",this.address.disabled=!1,this.neighborhood.disabled=!1,this.city.disabled=!1,this.state.disabled=!1}}}}}},Symbol.toStringTag,{value:"Module"}));const a=Object.freeze(Object.defineProperty({__proto__:null,alertComponent:function(i){return{timeoutId:null,init(){t(this.$el.querySelectorAll("[data-tallkit-alert-close]"),{"@click"(){this.dismiss()}}),i&&(this.timeoutId=e(()=>this.dismiss(),i,7e3))},dismiss(){clearTimeout(this.timeoutId);const t=this.$el.closest("[data-tallkit-alert]");t&&(t.classList.remove("opacity-100"),t.classList.add("opacity-0"),t.addEventListener("transitionend",()=>t?.remove(),{once:!0}))}}}},Symbol.toStringTag,{value:"Module"}));function c(){return{empty:null,loaded:null,error:null,async load(t){this.$el.hasAttribute("data-silent")||this.start();try{const e=await t();this.complete(),e&&this.$nextTick(e)}catch(t){this.fail(t)}},reset(){this.empty=null,this.loaded=null,this.error=null},clear(){this.reset(),this.empty=!0},start(){this.reset(),this.loaded=!1,this.$dispatch("started")},complete(t=0){e(()=>{this.reset(),this.loaded=!0,this.$dispatch("completed")},t)},fail(t,i=0){e(()=>{this.reset(),this.error=t,this.$dispatch("failed")},i)},startAndComplete(t=!1){this.start(),t&&this.$nextTick(()=>this.complete())},isEmpty(){return!0===this.empty},isLoading(){return!1===this.loaded},isCompleted(){return!0===this.loaded},isError(){return null!==this.error}}}const h=Object.freeze(Object.defineProperty({__proto__:null,loadable:c},Symbol.toStringTag,{value:"Module"}));const d=Object.freeze(Object.defineProperty({__proto__:null,apexcharts:function(){return{...c(),chart:null,async init(){this.load(async()=>{window.ApexCharts||await this.$tallkit.loadScript("https://cdn.jsdelivr.net/npm/apexcharts@5")})},render(t={}){this.chart??=new window.ApexCharts(this.$el,t),this.chart.render(),this.$dispatch("rendered",{chart:this.chart})}}}},Symbol.toStringTag,{value:"Module"}));function u(){return{init(){const t=this.$el.offsetTop;this.$el.style.position="sticky",this.$el.style.top=`${t}px`,this.$el.style.maxHeight=`calc(100dvh - ${t}px)`}}}const p=Object.freeze(Object.defineProperty({__proto__:null,sticky:u},Symbol.toStringTag,{value:"Module"}));const m=Object.freeze(Object.defineProperty({__proto__:null,aside:function(){return{...u()}}},Symbol.toStringTag,{value:"Module"}));function b(){return{opened:!1,lastOpened:null,init(t=!1){if(Number.isInteger(t))return e(()=>this.open(),t);this.opened=Boolean(t)},open(t=!0){this.opened=!0,t&&(this.lastOpened=this.opened)},close(t=!0){this.opened=!1,t&&(this.lastOpened=this.opened)},toggle(t=!0){this.isOpened()?this.close(t):this.open(t)},isOpened(){return!0===this.opened},isClosed(){return!1===this.opened}}}const v=Object.freeze(Object.defineProperty({__proto__:null,toggleable:b},Symbol.toStringTag,{value:"Module"}));function f({mode:e,position:i,align:s}){const o=b();let n=null;const r={...o,trigger:null,popoverElement:null,mouseX:0,mouseY:0,get isTouch(){return window.matchMedia("(hover: none)").matches},init(){o.init.call(this),this.trigger=this.$root.firstElementChild!==this.popoverElement?this.$root.firstElementChild:this.$root,this.popoverElement=this.$root.lastElementChild?.matches("[popover]")&&this.$root.lastElementChild,this.popoverElement&&(this.$root.setAttribute("aria-haspopup","true"),this.$root.setAttribute("aria-expanded","false"),this.popoverElement.addEventListener("beforetoggle",t=>{queueMicrotask(()=>{"open"===t.newState?this.onOpen():this.onClose()})}),this.isTouch||"dropdown"===e?t(this.trigger,{"@click"(){this.toggle()},"@click.outside"(t){(this.popoverElement.hasAttribute("data-keep-open")||t.target?.hasAttribute("data-keep-open")||t.target?.closest("[data-keep-open]"))&&this.popoverElement.contains(t.target)||this.close()},"@keyup.escape.window"(){this.close()}}):"hover"===e?t(this.trigger,{"@mouseenter"(){this.open()},"@mouseleave"(){this.close()},"@keyup.escape.window"(){this.close()}}):"context"===e&&(t(this.trigger,{"@contextmenu.prevent"(t){this.close(),this.mouseX=t.clientX,this.mouseY=t.clientY,this.open()},"@keydown.escape.prevent"(){this.close()}}),t(this.popoverElement,{"@click.outside"(){this.close()}})))},open(){this.popoverElement.showPopover()},close(){this.popoverElement.hidePopover()},onOpen(){o.open.call(this),this.$root.setAttribute("aria-expanded","true"),window.addEventListener("scroll",this.boundSetPosition,!0),window.addEventListener("resize",this.boundSetPosition,!0),this.resizeObserver=new ResizeObserver(this.boundSetPosition),this.resizeObserver.observe(this.trigger),this.resizeObserver.observe(this.popoverElement),this.mutationObserver=new MutationObserver(this.boundSetPosition),this.mutationObserver.observe(this.trigger,{childList:!0,subtree:!0}),this.mutationObserver.observe(this.popoverElement,{childList:!0,subtree:!0}),this.setPosition()},onClose(){o.close.call(this),this.$root.setAttribute("aria-expanded","false"),window.removeEventListener("scroll",this.boundSetPosition,!0),window.removeEventListener("resize",this.boundSetPosition,!0),this.resizeObserver?.disconnect(),this.resizeObserver=null,this.mutationObserver?.disconnect(),this.mutationObserver=null},boundSetPosition(){n||(n=requestAnimationFrame(()=>{this.setPosition(),n=null}))},setPosition(){let t;t="context"===e?{top:this.mouseY,bottom:this.mouseY,left:this.mouseX,right:this.mouseX,height:0,width:0}:this.trigger.getBoundingClientRect();const o=t.height,n=t.width,r=window.scrollY,l=window.scrollX,a=this.popoverElement.offsetHeight,c=this.popoverElement.offsetWidth,h=(e,i)=>{const s=((t,e)=>"start"===e||"left"===e?0:"end"===e||"right"===e?"left"===t||"right"===t?o-a:n-c:"left"===t||"right"===t?(o-a)/2:(n-c)/2)(e,i);let h=0,d=0;switch(e){case"right":d=t.right+4+l,h=t.top+s+r;break;case"left":d=t.left-c-4+l,h=t.top+s+r;break;case"bottom":h=t.bottom+4+r,d=t.left+s+l;break;case"top":h=t.top-a-4+r,d=t.left+s+l}return{top:h,left:d}},d=({top:t,left:e})=>t>=r&&e>=l&&t+a<=r+window.innerHeight&&e+c<=l+window.innerWidth,u=["top","bottom","left","right"],p=["start","left","end","right","center"];let m=i||"bottom",b=s||"end",v=h(m,b);if(!d(v)){let t=!1;for(const e of[m,...u.filter(t=>t!==m)]){for(const i of[b,...p.filter(t=>t!==b)]){const s=h(e,i);if(d(s)){m=e,b=i,v=s,t=!0;break}}if(t)break}}this.popoverElement.style.position="absolute",this.popoverElement.style.inset="auto",this.popoverElement.style.top=`${v.top}px`,this.popoverElement.style.left=`${v.left}px`,this.popoverElement.dataset.position=m,this.popoverElement.dataset.align=b}};return r.boundSetPosition=r.boundSetPosition.bind(r),r}const g=Object.freeze(Object.defineProperty({__proto__:null,popover:f},Symbol.toStringTag,{value:"Module"}));const y=Object.freeze(Object.defineProperty({__proto__:null,autocomplete:function(){const i=f({mode:"manual",position:"bottom",align:"start"});return{...i,current:null,get input(){return this.$root.querySelector("[data-tallkit-autocomplete]")},get items(){return Array.from(this.$root.querySelectorAll("[data-tallkit-autocomplete-item-container]:has([data-tallkit-button-content])"))},get filteredItems(){return this.items.filter(t=>{if(t.hasAttribute("data-hidden"))return!1;const e=t.querySelector("[data-tallkit-autocomplete-item]");return!e?.hasAttribute("disabled")})},setPosition(){i.setPosition.call(this),this.popoverElement.style.minWidth=`${this.input.offsetWidth}px`},init(){i.init.call(this),i.trigger=this.input,i.popoverElement=this.$root.lastElementChild?.matches("[popover]")&&this.$root.lastElementChild,t(this.$root.querySelectorAll("[data-tallkit-autocomplete-item]"),t=>({"@click":()=>this.filteredItems.forEach((e,i)=>{if(e.querySelector("[data-tallkit-autocomplete-item]")===t)return this.current=i,void this.selectActive()}),"@mouseenter":()=>this.filteredItems.forEach((e,i)=>{if(e.querySelector("[data-tallkit-autocomplete-item]")===t)return this.setActive(i),void this.$dispatch("autocomplete-item-hover",{index:i,item:e})})})),t(this.input,{"@input":()=>{this.$dispatch("autocomplete-search-updated",{query:this.input.value}),this.search(),0===this.filteredItems.length?this.close():this.open()},"@focus":t=>{0===this.filteredItems.length?this.close():(this.open(),this.setActive())},"@blur":()=>{this.clearActive(),e(()=>this.close(),100)},"@keydown.enter.prevent":()=>this.selectActive(),"@keydown.arrow-down.prevent":()=>this.next(),"@keydown.arrow-up.prevent":()=>this.prev(),"@keyup.escape.window":()=>this.close()}),this.$nextTick(()=>{this.search(),this.clearActive()}),this.$dispatch("autocomplete-initialized")},clearActive(){this.items.forEach(t=>{t.querySelector("[data-tallkit-autocomplete-item]")?.removeAttribute("data-active")}),this.current=null},prev(){this.popoverElement?.matches(":popover-open")?null!=this.current&&this.setActive((this.current-1+this.filteredItems.length)%this.filteredItems.length):this.open()},next(){this.popoverElement?.matches(":popover-open")?null!=this.current&&this.setActive((this.current+1)%this.filteredItems.length):this.open()},search(){const t={lowercase:!0,replaceAccents:!0,removeSpaces:!0},e=n(this.input.value,t);this.clearItems(),e&&this.items.forEach(i=>{const s=i.querySelector("[data-tallkit-button-content]");(n(s?.textContent,t)||"").includes(e)||i.setAttribute("data-hidden","")}),this.$dispatch("autocomplete-items-changed",{items:this.filteredItems.length}),this.setActive()},clearItems(){this.items.forEach(t=>{t.querySelector("[data-tallkit-autocomplete-item]")?.removeAttribute("data-active"),t.removeAttribute("data-hidden")})},setActive(t=0){const e=this.filteredItems;if(t<0||t>=e.length)return;if(null!==this.current){const t=e.at(this.current);t?.querySelector("[data-tallkit-autocomplete-item]")?.removeAttribute("data-active")}const i=e.at(t);if(!i)return;const s=i.querySelector("[data-tallkit-autocomplete-item]");s?.hasAttribute("disabled")||(s?.setAttribute("data-active",""),this.current=t,i.scrollIntoView({behavior:"smooth",block:"nearest"}),this.$dispatch("autocomplete-active-changed",{index:t,item:i,button:s}))},selectActive(){if(null===this.current)return;const t=this.filteredItems.at(this.current);if(!t)return;const e=t.querySelector("[data-tallkit-autocomplete-item]");e&&!e.hasAttribute("disabled")&&(this.input.value=e.querySelector("[data-tallkit-button-content]")?.textContent.trim()||"",this.input.dispatchEvent(new Event("input",{bubbles:!0})),this.input.dispatchEvent(new Event("change",{bubbles:!0})),this.close(),this.$dispatch("autocomplete-item-selected",{index:this.current,item:t,button:e}))}}}},Symbol.toStringTag,{value:"Module"}));const w=Object.freeze(Object.defineProperty({__proto__:null,badge:function(){return{init(){t(this.$el.querySelector("[data-tallkit-badge-close]"),{"@click":()=>this.close()})},close(){const t=this.$el.closest("[data-tallkit-badge]");t&&(t.classList.remove("opacity-100"),t.classList.add("opacity-0"),t.addEventListener("transitionend",()=>{t?.remove(),this.$dispatch("close")},{once:!0}))}}}},Symbol.toStringTag,{value:"Module"}));const k=Object.freeze(Object.defineProperty({__proto__:null,chartjs:function(){return{...c(),chart:null,async init(){this.load(async()=>{window.Chart||await this.$tallkit.loadScript("https://cdn.jsdelivr.net/npm/chart.js@4")})},render(t={}){this.chart??=new window.Chart(this.$el,t),this.$dispatch("rendered",{chart:this.chart})}}}},Symbol.toStringTag,{value:"Module"}));const S=Object.freeze(Object.defineProperty({__proto__:null,command:function(){return{current:null,get input(){return this.$root.querySelector("[data-tallkit-command-input]")},get items(){return Array.from(this.$root.querySelectorAll("[data-tallkit-command-item-container]:has([data-tallkit-button-content])"))},get filteredItems(){return this.items.filter(t=>{if(t.hasAttribute("data-hidden"))return!1;const e=t.querySelector("[data-tallkit-command-item]");return!e?.hasAttribute("disabled")})},get noRecords(){return this.$root.querySelector("[data-tallkit-command-no-records]")},init(){t(this.$root,{"@mouseleave":()=>this.clearActive()}),t(this.$root.querySelectorAll("[data-tallkit-command-item]"),t=>({"@click":()=>this.filteredItems.forEach((e,i)=>{if(e.querySelector("[data-tallkit-command-item]")===t)return this.current=i,void this.selectActive()}),"@mouseenter":()=>this.filteredItems.forEach((e,i)=>{if(e.querySelector("[data-tallkit-command-item]")===t)return this.setActive(i),void this.$dispatch("command-item-hover",{index:i,item:e})})})),t(this.input,{"@input":()=>{this.$dispatch("command-search-updated",{query:this.input.value}),this.search()},"@focus":t=>{this.setActive()},"@blur":()=>this.clearActive(),"@keydown.enter.prevent":()=>this.selectActive(),"@keydown.arrow-down.prevent":()=>this.next(),"@keydown.arrow-up.prevent":()=>this.prev()}),this.$nextTick(()=>{this.search(),this.clearActive()}),this.$dispatch("command-initialized")},clearActive(){this.items.forEach(t=>{t.querySelector("[data-tallkit-command-item]")?.removeAttribute("data-active")}),this.current=null},prev(){null!=this.current&&this.setActive((this.current-1+this.filteredItems.length)%this.filteredItems.length)},next(){null!=this.current&&this.setActive((this.current+1)%this.filteredItems.length)},search(){const t={lowercase:!0,replaceAccents:!0,removeSpaces:!0},e=n(this.input.value,t);this.clearItems(),e&&this.items.forEach(i=>{const s=i.querySelector("[data-tallkit-button-content]");o(n(s?.textContent,t)||"",e)||i.setAttribute("data-hidden","")}),this.$dispatch("command-items-changed",{items:this.filteredItems.length}),this.toggleNoRecords(),this.setActive()},clearItems(){this.items.forEach(t=>{t.querySelector("[data-tallkit-command-item]")?.removeAttribute("data-active"),t.removeAttribute("data-hidden")})},toggleNoRecords(){this.noRecords&&(0===this.filteredItems.length?this.noRecords.removeAttribute("hidden"):this.noRecords.setAttribute("hidden",""))},setActive(t=0){const e=this.filteredItems;if(t<0||t>=e.length)return;if(null!==this.current){const t=e.at(this.current);t?.querySelector("[data-tallkit-command-item]")?.removeAttribute("data-active")}const i=e.at(t);if(!i)return;const s=i.querySelector("[data-tallkit-command-item]");s?.hasAttribute("disabled")||(s?.setAttribute("data-active",""),this.current=t,i.scrollIntoView({behavior:"smooth",block:"nearest"}),this.$dispatch("command-active-changed",{index:t,item:i,button:s}))},selectActive(){if(null===this.current)return;const t=this.filteredItems.at(this.current);if(!t)return;const e=t.querySelector("[data-tallkit-command-item]");if(!e||e.hasAttribute("disabled"))return;const i=this.current;this.input.value="",this.input.dispatchEvent(new Event("input",{bubbles:!0})),this.input.dispatchEvent(new Event("change",{bubbles:!0})),this.$dispatch("command-item-selected",{index:this.current,item:t,button:e}),this.setActive(i)}}}},Symbol.toStringTag,{value:"Module"}));const $=Object.freeze(Object.defineProperty({__proto__:null,composer:function(e,i){return{value:null,init(){t(this.$el,{"x-modelable":"value"});const s=this.$el.parentElement?.querySelector("[data-tallkit-label]")?.getAttribute("for");t(this.$el.querySelector("[data-tallkit-control]"),{"x-model":"value",...s?{id:s}:{},...i?{placeholder:i}:{},..."enter"===e?{"@keydown.enter"(t){t.shiftKey||(t.preventDefault(),this.$root.closest("form")?.dispatchEvent(new Event("submit")))}}:{}})}}}},Symbol.toStringTag,{value:"Module"})),_={opened:!0,types:[],holderName:null,number:null,type:null,expirationDate:null,cvv:null};const E=Object.freeze(Object.defineProperty({__proto__:null,creditCard:function(t={}){const e=b();return{...e,options:_,init(){e.init.call(this),this.card=this.$data,this.options={..._,...t},this.opened=this.options.opened},get typeOptions(){return this.options.types[this.options.type]?this.options.types[this.options.type]:this.options.types.unknown},update(t={}){this.options={...this.options,...t}},flip(t=!1){t?this.close():this.open()}}}},Symbol.toStringTag,{value:"Module"}));const A=Object.freeze(Object.defineProperty({__proto__:null,disclosureGroup:function(t){return{init(){t&&this.initExclusive()},initExclusive(){const t=this.$root.querySelectorAll("[data-tallkit-disclosure-item]"),e=()=>{t.forEach(t=>{i.observe(t,{attributeFilter:["data-open"]})})},i=new MutationObserver(s=>{const o=s[0]?.target;t.forEach(t=>{t!==o&&(t._x_dataStack&&t?._x_dataStack[0]&&"function"==typeof t?._x_dataStack[0].close?t?._x_dataStack[0].close():t.removeAttribute("data-open"))}),i.disconnect(),this.$nextTick(e)});e()}}}},Symbol.toStringTag,{value:"Module"}));const j=Object.freeze(Object.defineProperty({__proto__:null,disclosure:function(){const e=b();return{...e,init(){e.init.call(this,this.$root.hasAttribute("data-open")),new MutationObserver(()=>{this.opened=this.$root.hasAttribute("data-open")}).observe(this.$root,{attributeFilter:["data-open"]}),t(this.$root.querySelectorAll(":scope > button"),{"@click"(){this.toggle()}})},open(){this.$root.setAttribute("data-open",""),e.open.call(this)},close(){this.$root.removeAttribute("data-open"),e.close.call(this)}}}},Symbol.toStringTag,{value:"Module"}));const O=Object.freeze(Object.defineProperty({__proto__:null,echarts:function(){return{...c(),chart:null,async init(){this.load(async()=>{window.echarts||await this.$tallkit.loadScript("https://cdn.jsdelivr.net/npm/echarts@6")})},render(t={}){this.chart??=window.echarts.init(this.$el),this.chart.setOption(t),this.$dispatch("rendered",{chart:this.chart})}}}},Symbol.toStringTag,{value:"Module"}));const x=Object.freeze(Object.defineProperty({__proto__:null,fetchable:function(t,e,i,s){return{...c(),url:null,response:null,data:null,options:null,init(){this.clear(),this.url=t,this.data=e,this.options={method:"get",headers:{Accept:"application/json"},responseType:"json",...s},this.url&&!1!==i&&this.fetch(),!this.url&&this.data&&this.complete()},async fetch(t=null,e={},i=!1){const s=t||this.url,o={...this.options??{},...e};this.url=s,this.options=o,s&&this.load(async()=>{if(this.response=await window.fetch(s,o),!this.response.ok)throw new Error(this.response.statusText);this.data=o.responseType?await this.response[o.responseType]():this.response},i)},reload(){return this.fetch()},update(t=null,e={}){return this.fetch(t,e,!0)}}}},Symbol.toStringTag,{value:"Module"}));const T=Object.freeze(Object.defineProperty({__proto__:null,frappeCharts:function(){return{...c(),chart:null,async init(){this.load(async()=>{window.frappe?.Chart||await this.$tallkit.loadScript("https://cdn.jsdelivr.net/npm/frappe-charts@1")})},render(t={}){this.chart??=new window.frappe.Chart(this.$el,t),this.$dispatch("rendered",{chart:this.chart})}}}},Symbol.toStringTag,{value:"Module"}));const C=Object.freeze(Object.defineProperty({__proto__:null,fullCalendar:function(t){return{fullCalendar:null,getOptions(){return window.Alpine.evaluate(this.$el,this.$el.getAttribute("data-options")||"{}")},async init(){window.FullCalendar||await this.$tallkit.loadScript(["https://cdn.jsdelivr.net/npm/fullcalendar@6/index.global.min.js",t.locale&&"en"!==t.locale?`https://cdn.jsdelivr.net/npm/@fullcalendar/core@6/locales/${t.locale}.global.min.js`:"https://cdn.jsdelivr.net/npm/@fullcalendar/core@6/locales-all.global.min.js"]),this.fullCalendar=new window.FullCalendar.Calendar(this.$el,{...t,...this.getOptions()}),this.fullCalendar.render()}}}},Symbol.toStringTag,{value:"Module"}));const M=Object.freeze(Object.defineProperty({__proto__:null,header:function(){return{...u()}}},Symbol.toStringTag,{value:"Module"}));const P=Object.freeze(Object.defineProperty({__proto__:null,highlightjs:function(){return{...c(),init(){this.load(async()=>{window.hljs||(await this.$tallkit.loadScript("https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"),await this.$tallkit.loadStyle("https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/default.min.css"))})},render(t,e=null){try{return e?window.hljs.highlight(t,{language:e}).value:window.hljs.highlightAuto(t).value}catch(t){this.fail(t)}}}}},Symbol.toStringTag,{value:"Module"}));const q=Object.freeze(Object.defineProperty({__proto__:null,inputClearable:function(){return{get input(){return this.$el.closest("[data-tallkit-input]").querySelector("input")},init(){const e=this.$el;this.input&&(e.style.display=this.input.value?"inline-flex ":"none",t(this.input,{"@input"(){e.style.display=this.$el.value?"inline-flex ":"none"}}),t(e,{"@click"(){this.input.value="",this.input.dispatchEvent(new Event("input",{bubbles:!1})),this.input.dispatchEvent(new Event("change",{bubbles:!1})),this.input.dispatchEvent(new Event("cleared",{bubbles:!1})),this.input.focus()}}))}}}},Symbol.toStringTag,{value:"Module"}));const z=Object.freeze(Object.defineProperty({__proto__:null,inputCopyable:function(){return{copied:!1,timeout:null,get input(){return this.$el.closest("[data-tallkit-input]").querySelector("input")},init(){this.input&&t(this.$el,{async"@click"(){clearTimeout(this.timeout),this.copied=!0,this.popoverElement&&this.popoverElement.showPopover(),navigator.clipboard&&(await navigator.clipboard.writeText(this.input.value),this.input.dispatchEvent(new Event("copied",{bubbles:!1}))),this.timeout=setTimeout(()=>{this.popoverElement&&this.popoverElement.hidePopover(),this.copied=!1},1e3)}})}}}},Symbol.toStringTag,{value:"Module"}));const I=Object.freeze(Object.defineProperty({__proto__:null,inputViewable:function(){return{viewed:!1,get container(){return this.$el.closest("[data-tallkit-input]")},get input(){return this.container.querySelector("input")},init(){if(!this.input)return;this.input.setAttribute("type",this.viewed?"text":"password"),t(this.$el,{"@click"(){this.viewed=!this.viewed,this.input.setAttribute("type",this.viewed?"text":"password"),this.input.dispatchEvent(new Event("viewed",{bubbles:!1}))}});new MutationObserver(()=>{this.viewed="password"!==this.input.getAttribute("type")}).observe(this.input,{attributes:!0,attributeFilter:["type"]})}}}},Symbol.toStringTag,{value:"Module"}));const L=Object.freeze(Object.defineProperty({__proto__:null,label:function(){return{get control(){let t=this.$el.parentElement?.querySelector("[data-tallkit-control]");const e='input, select, textarea, [contenteditable=""], [contenteditable="true"], [role="textbox"]';return t&&!t.matches(e)&&(t=t.querySelector(e)),t},init(){"label"===this.$el.tagName.toLowerCase()&&this.$el.hasAttribute("for")&&document.getElementById(this.$el.getAttribute("for"))||this.control&&t(this.$el,{"@click"(){const t=this.control,e=t.tagName.toLowerCase(),i=t.getAttribute("type")?.toLowerCase(),s=t.hasAttribute("contenteditable")||"textbox"===t.getAttribute("role"),o=t.hasAttribute("readonly")||"true"===t.getAttribute("aria-readonly"),n=t.disabled;"checkbox"!==i?"radio"!==i?!s&&!["input","select","textarea"].includes(e)||"function"!=typeof t.focus||n||t.focus():n||o||t.checked||(t.checked=!0,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))):n||o||(t.checked=!t.checked,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})))}})}}}},Symbol.toStringTag,{value:"Module"}));const R=Object.freeze(Object.defineProperty({__proto__:null,menuCheckbox:function(e){return{checked:e,get isControlled(){return void 0!==this.value},get isArray(){return Array.isArray(this.value)},get isChecked(){return this.isControlled?this.isArray?this.value.includes(this.$root.value):this.value==this.$root.value:this.checked},init(){t(this.$el,{"@click":()=>this.toggle(),":data-checked":()=>this.isChecked,":aria-checked":()=>this.isChecked})},toggle(){this.isControlled?this.isArray?this.value=this.isChecked?this.value.filter(t=>t!==this.$root.value):[...this.value,this.$root.value]:this.value=this.$root.value:this.checked=!this.checked}}}},Symbol.toStringTag,{value:"Module"}));const D=Object.freeze(Object.defineProperty({__proto__:null,menuRadio:function(e){return{checked:e,get isControlled(){return void 0!==this.value},get isChecked(){return this.isControlled?this.value==this.$root.value:this.checked},init(){t(this.$el,{"@click":()=>this.toggle(),":data-checked":()=>this.isChecked,":aria-checked":()=>this.isChecked})},toggle(){this.isControlled?this.value=this.$root.value:this.checked=!this.checked}}}},Symbol.toStringTag,{value:"Module"}));const N=Object.freeze(Object.defineProperty({__proto__:null,menu:function(){return{init(){t(this.$el.querySelectorAll("[data-tallkit-menu-item]"),{"@mouseenter"(){this.$el.disabled||this.$el.setAttribute("data-active","")},"@mouseleave"(){this.$el.disabled||this.$el.removeAttribute("data-active")}})}}}},Symbol.toStringTag,{value:"Module"}));const F=Object.freeze(Object.defineProperty({__proto__:null,modalTrigger:function(e,i){return{init(){t(this.$el,{"@click"(){this.$el.querySelector("button[disabled]")||this.$dispatch("modal-show",{name:e})}}),i&&t(this.$el,{[`@keydown.${i}.document`](t){t.preventDefault(),this.$dispatch("modal-show",{name:e})}})}}}},Symbol.toStringTag,{value:"Module"}));const X=Object.freeze(Object.defineProperty({__proto__:null,modal:function(e,i,s){return{init(){const o=this.$el;t(o.querySelectorAll("[data-tallkit-modal-close],[data-tallkit-modal-auto-close]"),{"@click"(){o.close()}}),t(o,{"@modal-show.document"(t){t.detail.name===e&&t.detail.scope===this.$wire?.id&&o.showModal(),t.detail.name!==e||t.detail.scope||o.showModal()},"@modal-close.document"(t){t.detail.name===e&&t.detail.scope===this.$wire?.id&&o.close(),t.detail.name&&(t.detail.name!==e||t.detail.scope)||o.close()}});const n=t=>{if(s){const t="string"==typeof s?s:"tilt-shaking";return o.classList.remove(t),void this.$nextTick(()=>o.classList.add(t))}(!1!==i&&t.target===o||"0"===t.target.getAttribute("tabindex"))&&o.close()};t(o,{"@toggle"(t){"open"===t.newState&&(o.querySelector('[tabindex="0"]')?.focus(),this.$dispatch("opened",t)),"closed"===t.newState&&this.$dispatch("closed",t)},"@click"(t){n(t)},"@keyup.escape.window"(t){n(t)}})}}}},Symbol.toStringTag,{value:"Module"}));function H(t,e){const i=e.padEnd(t.length).split("");t.forEach((t,e)=>{t.value=V(i[e]??"",t.dataset.mode)})}function V(t,e){return(t.toLocaleUpperCase().match("alpha"===e?/[A-Z]/g:"alphanumeric"===e?/[A-Z0-9]/g:/[0-9]/g)||[]).join("")}const W=Object.freeze(Object.defineProperty({__proto__:null,otp:function(e){return{value:"",get inputs(){return Array.from(this.$root.querySelectorAll("[data-tallkit-otp-input]"))},get length(){return this.inputs.length},init(){const e=this.inputs;this.$nextTick(()=>this.updateModel()),this.$watch("value",t=>H(e,t)),e.forEach((i,s)=>{t(i,{"@focus"(){i.select(),this.$dispatch("otp-focus",{input:i,index:s})},"@blur"(){this.$dispatch("otp-blur",{input:i,index:s})},"@paste"(t){const e=t.clipboardData.getData("text");this.$dispatch("otp-paste",{input:i,index:s,pasted:e})},"@input"(){const t=V(i.value,i.dataset.mode);t.length>1?function(t,e,i){const s=t.split("");s.forEach((t,s)=>{const o=i[e+s];o&&(o.value=V(t,o.dataset.mode))});const o=Math.min(e+s.length,i.length-1);i[o]?.focus()}(t,s,e):(i.value=t,t&&(e[s+1]?e[s+1].focus():e.filter(t=>!t.value).at(0)?.focus())),this.updateModel()},"@keydown.arrow-left.prevent":()=>e[s-1]?.focus(),"@keydown.arrow-right.prevent":()=>e[s+1]?.focus(),"@keydown.backspace":()=>{!i.value&&e[s-1]&&e[s-1].focus()}})}),H(e,this.value)},updateModel(){const t=this.value;this.value=this.inputs.map(t=>t.value||" ").join("");const i=this.value.replace(/\s+/g,"").length;t!==this.value&&(this.$dispatch("otp-change",{value:this.value}),i===this.length&&(this.$dispatch("otp-complete",{value:this.value}),"auto"===e&&this.$root.closest("form")?.dispatchEvent(new Event("submit"))),i!==this.length&&this.$dispatch("otp-incomplete",{value:this.value}),0===i&&this.$dispatch("otp-clear"))}}}},Symbol.toStringTag,{value:"Module"}));const Y=Object.freeze(Object.defineProperty({__proto__:null,prettyPrintJson:function(){return{...c(),init(){this.load(async()=>{window.prettyPrintJson||(await this.$tallkit.loadScript("https://cdn.jsdelivr.net/npm/pretty-print-json@3/dist/pretty-print-json.min.js"),await this.$tallkit.loadStyle("https://cdn.jsdelivr.net/npm/pretty-print-json@3/dist/css/pretty-print-json.min.css"))})},render(t=null,e={}){try{return window.prettyPrintJson.toHtml(t,e)}catch(t){this.fail(t)}}}}},Symbol.toStringTag,{value:"Module"}));const B=Object.freeze(Object.defineProperty({__proto__:null,sidebar:function(e,i,s){const o=b(),n=u();return{...o,init(){o.init.call(this),i&&n.init.call(this),s&&(this.$el.removeAttribute("data-mobile-cloak"),this.screenLg=window.innerWidth>=1024,t(this.$el,{"x-bind:data-stashed"(){return!this.screenLg},"x-resize.document"(){this.screenLg=window.innerWidth>=1024},[`@sidebar-${e??""}-close.window`](){this.close()},[`@sidebar-${e??""}-toggle.window`](){this.toggle()}}))},open(){this.$el.setAttribute("data-show-stashed-sidebar",""),o.open.call(this)},close(){this.$el.removeAttribute("data-show-stashed-sidebar"),o.close.call(this)}}}},Symbol.toStringTag,{value:"Module"}));const J=Object.freeze(Object.defineProperty({__proto__:null,slider:function(){return{get input(){return this.$root.querySelector("[data-tallkit-control]")},init(){this.updateRange(),t(this.input,{"@input":()=>this.updateRange()}),t(this.$root.querySelector("[data-tallkit-slider-ticks]"),{"@click":t=>{const e=[...this.$root.querySelectorAll("[data-tallkit-slider-tick]")],i=t.clientX;let s=null,o=1/0;e.forEach(t=>{const e=t.getBoundingClientRect(),n=e.left+e.width/2,r=Math.abs(i-n);r<o&&(o=r,s=t)}),s&&this.setValue(s.getAttribute("value"))}})},setValue(t){this.input.disabled||(this.input.value=t,this.input.dispatchEvent(new Event("input",{bubbles:!0})))},updateRange(){const t=Number(this.input.min||0),e=Number(this.input.max||100),i=100*(Number(this.input.value)-t)/(e-t);this.input.style.setProperty("--range-percent",`${i}%`)}}}},Symbol.toStringTag,{value:"Module"}));const K=Object.freeze(Object.defineProperty({__proto__:null,submenu:function(){const e=f({mode:"manual",position:"right",align:"start"});return{...e,_i:null,inside:!1,init(){e.init.call(this),e.trigger=this.$root.firstElementChild!==this.popoverElement?this.$root.firstElementChild:this.$root,e.popoverElement=this.$root.lastElementChild?.matches("[popover]")&&this.$root.lastElementChild,t(e.popoverElement,{"@mouseenter"(){this.inside=!0,e.trigger.setAttribute("data-active","")},"@mouseleave"(){this.inside=!1,this.timerToClose()}}),t(e.trigger,{"@click"(){this.open()},"@mouseenter"(){clearTimeout(this._i),this.open()},"@mouseleave"(){this.timerToClose()}})},timerToClose(){this._i=setTimeout(()=>{this.inside||(this.close(),e.trigger.removeAttribute("data-active"))},10)}}}},Symbol.toStringTag,{value:"Module"}));const U=Object.freeze(Object.defineProperty({__proto__:null,tab:function(){return{selected:null,init(){const t=this.$root.querySelector("[data-selected]")?.dataset.name;t&&this.$nextTick(()=>{this.select(t)})},isSelected(t){return this.selected===t},select(t){this.selected=t}}}},Symbol.toStringTag,{value:"Module"}));const Z=Object.freeze(Object.defineProperty({__proto__:null,table:function(){return{processedRows:new Set,rows:[],selected:[],selectedIds:[],selectAllChecked:!1,init(){this.update();new MutationObserver(()=>this.update()).observe(this.$el.querySelector("tbody"),{childList:!0,subtree:!0})},update(){this.rows=Array.from(this.$el.querySelectorAll('tbody>tr[role="row"]')).map(e=>{const i=e.querySelector("[role=row-selection]"),s=e.querySelectorAll("[role=row-expanded]"),o={el:e,id:e.dataset.id,selection:i,expanded:s};return this.processedRows.has(o.id)||(this.processedRows.add(o.id),t(i,{"@click"(){this._updateRowState(o),this._syncSelect()}}),t(s,{"@click"(){o.el.dataset.expanded="open"===o.el.dataset.expanded?"close":"open"}})),o}),this.rows.forEach(t=>{t.selection&&(t.selection.checked=this.selectedIds.includes(t.id)),this.selectAllChecked&&(t.selection.checked=!0),this._updateRowState(t)}),this._syncSelect()},toggleAll(){this.rows.forEach(t=>{t.selection&&(t.selection.checked=this.selectAllChecked,this._updateRowState(t))}),this._syncSelect()},_updateRowState(t){t.selection&&(t.el.dataset.state=t.selection.checked?"checked":"unchecked"),t.expanded&&!t.el.dataset.expanded&&(t.el.dataset.expanded="close")},_syncSelect(){this.selected=this.rows.filter(t=>t.selection?.checked),this.selectedIds=this.selected.map(t=>t.id),this.selectAllChecked=this.rows.length&&this.rows.every(t=>t.selection?.checked)}}}},Symbol.toStringTag,{value:"Module"}));const G=Object.freeze(Object.defineProperty({__proto__:null,textarea:function(e){return{init(){const i=parseInt(this.$el.getAttribute("rows"));i&&i>0&&e&&e>i&&t(this.$el,{"@input"(){this.autoRows(i,e)}})},autoRows(t,e){this.$el.rows=t;const i=getComputedStyle(this.$el),s=parseFloat(i.lineHeight),o=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),n=Math.round((this.$el.scrollHeight-o)/s);this.$el.rows=Math.min(Math.max(n,t),e)}}}},Symbol.toStringTag,{value:"Module"}));const Q=Object.freeze(Object.defineProperty({__proto__:null,toast:function(){return{toasts:[],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],init(){t(this.$el,{"@toast.document"(t){this.addToast(t.detail)}})},addToast(t){const e=window.Alpine.reactive({id:Date.now()+Math.random(),...t,duration:t.duration??5e3,position:t.position??"bottom-right",visible:!1});"top"===e.position&&(e.position="top-right"),"bottom"===e.position&&(e.position="bottom-right"),this.toasts.push(e),this.$nextTick(()=>e.visible=!0),e.duration&&setTimeout(()=>this.removeToast(e.id),e.duration)},removeToast(t){const e=this.toasts.find(e=>e.id===t);e&&(e.visible=!1,setTimeout(()=>{this.toasts=this.toasts.filter(e=>e.id!==t)},300))},getToastsByPosition(t){return this.toasts.filter(e=>e.position===t)}}}},Symbol.toStringTag,{value:"Module"}));const tt=Object.freeze(Object.defineProperty({__proto__:null,upload:function({droppable:e=!1}={}){return{dragOver:!1,get multiple(){return this.$refs.fileInput?.multiple??!1},init(){e&&t(this.$root.querySelector("[data-tallkit-upload-button]"),{"@dragover.prevent"(){this.dragOver=!0},"@dragleave.prevent"(){this.dragOver=!1},"@drop.prevent"(t){this.$refs.fileInput.files=t.dataTransfer.files,this.$refs.fileInput.dispatchEvent(new Event("change",{bubbles:!0}))}})},selectFile(){this.$refs.fileInput.click()},removeFile(t){confirm("Are you sure you want to proceed?")&&this.$wire&&this.$wire.set(t,null)}}}},Symbol.toStringTag,{value:"Module"}));async function et(){window.Alpine||await s(["https://unpkg.com/@alpinejs/resize@3.x.x/dist/cdn.min.js","https://unpkg.com/@alpinejs/mask@3.x.x/dist/cdn.min.js","https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"])}const it={appearance:{mode:window.localStorage.getItem("tallkit.appearance")||"system",init(){this.apply(this.mode),document.addEventListener("livewire:navigated",()=>this.apply(this.mode));window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{"system"===this.mode&&this.apply("system")})},isDark:()=>document.documentElement.classList.contains("dark"),isLight(){return!this.isDark()},applyDark(t=!0){document.documentElement.classList.add("dark"),t&&window.localStorage.setItem("tallkit.appearance","dark"),this.mode="dark"},applyLight(t=!0){document.documentElement.classList.remove("dark"),t&&window.localStorage.setItem("tallkit.appearance","light"),this.mode="light"},apply(t){if("system"===t){const t=window.matchMedia("(prefers-color-scheme: dark)");window.localStorage.removeItem("tallkit.appearance"),t.matches?this.applyDark(!1):this.applyLight(!1),this.mode="system"}else"dark"===t?this.applyDark():"light"===t&&this.applyLight()},toggle(t,e={}){if(!("undefined"!=typeof document&&document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches)||!t)return this.isDark()?this.applyLight():this.applyDark();const i=document.startViewTransition(()=>this.isDark()?this.applyLight():this.applyDark()),s=t.clientX||0,o=t.clientY||0,n=Math.hypot(Math.max(s,innerWidth-s),Math.max(o,innerHeight-o));i.ready.then(()=>{const t=[`circle(0px at ${s}px ${o}px)`,`circle(${n}px at ${s}px ${o}px)`];document.documentElement.animate({clipPath:this.isDark()?[...t].reverse():t},{duration:300,easing:"ease-in",...e||{},pseudoElement:this.isDark()?"::view-transition-old(root)":"::view-transition-new(root)"})})}},toast:function(...t){let e;if("object"!=typeof t[0]||null===t[0]||Array.isArray(t[0])){const[i,s,o,n,r]=t;e={message:i,title:s,type:o,duration:n,position:r}}else e=t[0];document.dispatchEvent(new CustomEvent("toast",{detail:e}))},loadScript:s,loadStyle:function t(e){if(Array.isArray(e))return e.reduce((e,i)=>e.then(async e=>[...e,await t(i)]),Promise.resolve([]));if(r.has(e))return r.get(e);const i=new Promise((t,i)=>{if(document.querySelector(`link[rel="stylesheet"][href="${e}"]`))return void t(new Event("load"));const s=document.createElement("link");s.rel="stylesheet",s.href=e,s.onload=t,s.onerror=t=>{r.delete(e),i(t)},document.head.appendChild(s)});return r.set(e,i),i},modal:t=>{const e=document.querySelector(`dialog[data-modal="${t}"]`);return{show:()=>{e?.showModal()},close:()=>{e?.close()}}},modals:()=>{const t=document.querySelectorAll("dialog[data-tallkit-modal]");return{close:()=>{t.forEach(t=>t.close())}}}};window.TALLKit=window.TK=window.tk=window.tallkit=it,document.dispatchEvent(new CustomEvent("tallkit:init")),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",et):et(),document.addEventListener("alpine:init",function(){window.Alpine&&(!function(){const t=Object.fromEntries(Object.values([l,a,d,m,y,w,k,S,$,E,A,j,O,x,T,C,M,P,q,z,I,L,h,R,D,N,F,X,W,g,Y,B,J,p,K,U,Z,G,Q,v,tt]).flatMap(t=>Object.entries(t).filter(([,t])=>"function"==typeof t)));for(const[e,i]of Object.entries(t))window.Alpine.data(e,i)}(),window.Alpine.store("tallkit",tallkit),window.Alpine.magic("tallkit",()=>Alpine.store("tallkit")),window.Alpine.magic("tk",()=>Alpine.store("tallkit")))})});
